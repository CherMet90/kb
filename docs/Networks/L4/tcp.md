![TCP States](../../images/tcp-states.PNG)
<br>

##### TCP profiles
###### Interactive traffic profile (Telnet, SSH, etc.)
Цель:  
**Обмен** информацией с минимальной задержкой
Особенности:  
1. **TCP Retransmission**  
Если сервер не получает ACK, он отправляет сегмент повторно с нарастающей задержкой (200, 400, 800 мс и т.д.)  
2. **Delayed ACK**  
Клиент в свою очередь также отправляет ACK с задержкой, чтобы дать время своему буферу опустошиться.  
*NOTE:* Задержка ACK должа быть меньше времени TCP ретрансмиссии (например, 20мс против 200мс)  
3. **Nagle algorithm**
Алгоритм запрещает наличие больше одного неподтвержденного неполного (т.е. меньше MSS) сегмента в соединении. Таким образом друг за другом, без ожидания подтверждения могут передаваться только полностью заполненные сегменты. На каждый переданный неполный сегмент должно быть получено подтверждение.  

###### Bulk transfer traffic profile (HTTP)
Цель:  
**Передача** информации с максимальной утилизацией соединения  
Особенности:  
1. **TCP windows**
В соединении для управления объемом сегмента используется 2 параметра:
* **receive window** (RWND) - это доступная величина буфера со стороны принимающего (ресивера). Информацию указывает ресивер в TCP-заголовке.
* **congestion window** (CWND) - окно определяет сколько отправитель может отправить данных без подтверждения. Механизм работает следующим образом: Величина CWND экспоненциально увеличивается начиная с величины MSS, пока не достигнет размера RWND или пока отправитель не получит дублирующийся ACK или не случится таймаут.  
2. Ресивер подтверждает каждый второй полноразмерный сегмент. Также ACK должен быть отправлен в случае получения пакета не по порядку или при изменении RWND.  